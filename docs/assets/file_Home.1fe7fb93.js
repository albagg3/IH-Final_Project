import{o as n,c,a as s,t as w,n as O,u as j,b as G,d as L,r as u,e as Q,f as k,w as J,g as $,h,i as K,l as P,p as F,j as q,k as C,v as S,m as z,q as M,s as W,x as X,y as Z,z as ss,A as es,F as x,B as E,C as ts,D as as}from"./file_index.efb33ea8.js";import{_ as os}from"./file_Message.b4aab271.js";import{_ as D}from"./file__plugin-vue_export-helper.e718e6fb.js";const ns={class:"modal-card"},ls={class:"modal-card-body"},H={__name:"Modalquestion",props:{modal:Object},emits:["yes","no"],setup(l,{emit:e}){const a=l,d=()=>{e("yes")},o=()=>{e("no")};return(i,t)=>(n(),c("div",{class:O(["modal",a.modal.isShow?"is-active":" "])},[s("div",{onClick:o,class:"modal-background"}),s("div",ns,[s("header",{class:"modal-card-head"},[s("button",{onClick:o,class:"delete","aria-label":"close"})]),s("section",ls,w(a.modal.message),1),s("footer",{class:"modal-card-foot"},[s("button",{onClick:d,class:"button is-success"},"yes"),s("button",{onClick:o,class:"button is-danger"},"No")])])],2))}};const is=l=>(F("data-v-594d411b"),l=l(),q(),l),cs={class:"navbar rel section pb-0 pt-0",role:"navigation","aria-label":"main navigation "},ds=is(()=>s("div",{class:"navbar-brand"},[s("a",{role:"button",class:"navbar-burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},[s("span",{"aria-hidden":"true"}),s("span",{"aria-hidden":"true"}),s("span",{"aria-hidden":"true"})])],-1)),rs={id:"navbarBasicExample",class:"navbar-menu"},us={class:"navbar-start"},_s={class:"navbar-end"},vs={class:"navbar-item"},ms={class:"buttons"},ks={key:0,class:"fa-solid fa-moon"},ps={key:1,class:"fa-solid fa-sun"},hs={__name:"Navbar",props:{task:Object},setup(l){const e=j(),a=G(),d=L(),o=u({message:"",type:"",isShow:!1}),i=u(!1),t=u({message:"\xBFQuieres salir de la aplicaci\xF3n?",isShow:!1}),_=()=>{t.value.isShow=!t.value.isShow,console.log(t.value.isShow)},v=async()=>{t.value.isShow=!t.value.isShow,await P()===!1?(o.value.message="Ha habido un error intentelo de nuevo m\xE1s tarde",o.value.type="is-danger",o.value.isShow=!0):(o.value.message="\xA1Hasta pronto!",o.value.type="is-success",o.value.isShow=!0,e.logout(),setTimeout(()=>{d.push({name:"login"})},1e3))},p=()=>{i.value=!i.value,a.isTheme=!a.isTheme,a.loadTheme()};return(b,T)=>{const g=Q("router-link");return n(),c("div",null,[s("nav",cs,[ds,s("div",rs,[s("div",us,[k(g,{to:{name:"home"},class:"navbar-item"},{default:J(()=>[$(" Home ")]),_:1})]),s("div",_s,[s("div",vs,[s("div",ms,[s("button",{onClick:p,class:"button"},[i.value?h("",!0):(n(),c("i",ks)),i.value?(n(),c("i",ps)):h("",!0)]),s("button",{onClick:_,class:"button is-danger"},"Log Out")])])])]),k(H,{onYes:v,onNo:_,modal:t.value},null,8,["modal"]),o.value.isShow?(n(),K(os,{key:0,class:"abs",message:o.value.message,type:o.value.type},null,8,["message","type"])):h("",!0)])])}}},fs=D(hs,[["__scopeId","data-v-594d411b"]]),bs={},gs={class:"footer"},ys=s("div",{class:"content has-text-centered"},[s("p",null,[s("strong",null,"AskyourTask"),$(" by "),s("a",{href:""},"Alba Garcia Gonzalez"),$(". ")])],-1),Ts=[ys];function ws(l,e){return n(),c("footer",gs,Ts)}const $s=D(bs,[["render",ws]]),Cs=l=>{const e=Math.floor(l/1e3),a=Math.floor(e/60),d=Math.floor(a/60),o=Math.floor(d/24);return{seconds:e,minutes:a,hours:d,days:o}},Ss=l=>{let e=Math.floor(new Date(l)-new Date);e>0&&(e=0);const{seconds:a,minutes:d,hours:o,days:i}=Cs(e),t=new Intl.RelativeTimeFormat("en-EN",{numeric:"auto"});return a>-60?t.format(a,"seconds"):d>-60?t.format(d,"minutes"):o>-24?t.format(o,"hours"):t.format(i,"days")},Ds=(l,e)=>{let a=0;return a=e*100/l,a},xs={class:"modal is-active"},Es={class:"modal-card"},Ns={class:"modal-card-body"},Ms={class:"card-content"},Bs=s("label",{for:""},[s("strong",null,"Task name")],-1),As={class:"card-content"},Is=s("label",{for:""},[s("strong",null,"Task description")],-1),Vs={__name:"Modaledit",props:{modal:Object,taskEdited:Object},emits:["done","cancel"],setup(l,{emit:e}){const a=l,d=()=>{e("done")},o=()=>{e("cancel")};return(i,t)=>(n(),c("div",xs,[s("div",{onClick:t[0]||(t[0]=(..._)=>i.onNo&&i.onNo(..._)),class:"modal-background"}),s("div",Es,[s("header",{class:"modal-card-head"},[s("button",{onClick:o,class:"delete","aria-label":"close"})]),s("section",Ns,[s("header",Ms,[Bs,C(s("input",{"onUpdate:modelValue":t[1]||(t[1]=_=>a.taskEdited.title=_),class:"input is-success"},null,512),[[S,a.taskEdited.title]])]),s("div",As,[Is,C(s("textarea",{"onUpdate:modelValue":t[2]||(t[2]=_=>a.taskEdited.description=_),class:"input is-success",type:"text",placeholder:"Task"}," ",512),[[S,a.taskEdited.description]])])]),s("footer",{class:"modal-card-foot"},[s("button",{onClick:d,class:"button is-success"},"Done"),s("button",{onClick:o,class:"button is-danger"},"Cancel")])])]))}};const Os={class:"card-header"},js={class:"card-header-title"},Fs={class:"card-content"},qs={class:"content"},zs={datetime:"2016-1-1"},Hs={key:0,class:"card-footer"},Us={key:1,class:"card-footer"},Rs={key:1},Ys={__name:"Task",props:{task:Object},setup(l){const e=l,a=z(),d=u(!1),o=u(!1),i=u({message:"\xBFEst\xE1s seguro?",isShow:!1}),t=u({title:e.task.title,description:e.task.description,isDone:!1});console.log("valor taskstore",a.tasks);const _=Ss(e.task.created_at),v=()=>{i.value.isShow=!i.value.isShow,console.log(i.value.isShow)},p=async()=>{i.value.isShow=!i.value.isShow,a.deleteTask(e.task.id),await W(e.task.id)},b=()=>{d.value=!0},T=async()=>{d.value=!1,t.value.title=e.task.title,t.value.description=e.task.description},g=async()=>{d.value=!1,await X(e.task.id,t.value),a.updateTask(e.task.id,t.value)},y=async()=>{t.value.isDone=!t.value.isDone,o.value=!o.value,await Z(e.task.id,t.value.isDone),a.updateTask(e.task.id,t.value),console.log("valor",e.task.id,t.value)};return(B,A)=>d.value?(n(),c("div",Rs,[k(Vs,{onDone:g,onCancel:T,modal:i.value,taskEdited:t.value},null,8,["modal","taskEdited"])])):(n(),c("div",{key:0,class:O(["card",e.task.isDone?"is-done":""])},[s("header",Os,[s("p",js," Task: "+w(e.task.title),1)]),s("div",Fs,[s("div",qs,[$(w(e.task.description)+" ",1),s("div",null,[s("time",zs,w(M(_)),1)])])]),e.task.isDone?h("",!0):(n(),c("footer",Hs,[s("i",{onClick:y,class:"fa-solid fa-square-check card-footer-item"}),s("i",{onClick:b,class:"fa-regular fa-pen-to-square card-footer-item"}),s("i",{onClick:v,class:"fa-solid fa-trash card-footer-item"})])),e.task.isDone?(n(),c("footer",Us,[s("i",{onClick:y,class:"fa-solid fa-rotate-right card-footer-item"}),s("i",{onClick:v,class:"fa-solid fa-trash card-footer-item"})])):h("",!0),k(H,{onYes:p,onNo:v,modal:i.value},null,8,["modal"])],2))}},N=D(Ys,[["__scopeId","data-v-0d137873"]]);const U=l=>(F("data-v-66abb6bf"),l=l(),q(),l),Gs={class:"section wholepage"},Ls=["value"],Qs={key:0,class:"mb-2"},Js={key:1,class:"mb-2"},Ks={class:"p-2"},Ps=U(()=>s("label",{for:""},"Task name",-1)),Ws={class:"p-2"},Xs=U(()=>s("label",{for:""},"Task",-1)),Zs={key:2,class:"columns is-multiline is-mobile"},se={key:3,class:"columns is-multiline is-mobile"},ee={key:4,class:"columns is-multiline is-mobile"},te={__name:"Addtask",setup(l){const e=j(),a=z(),d=u(!1),o=u({user_id:e.id,title:"",description:""}),i=u(!1),t=u(!1),_=u([]),v=u([]);let p=u(0);const b=()=>{d.value=!0},T=()=>{d.value=!1},g=()=>{_.value=a.tasks.filter(m=>m.isDone===!1)},y=()=>{v.value=a.tasks.filter(m=>m.isDone===!0),console.log("done tasks",v.value)},B=()=>{i.value=!1,t.value=!1},A=()=>{i.value=!0,t.value=!1,g()},R=()=>{t.value=!0,i.value=!1,y()},I=async()=>{const m=await ts();return a.setTask(m),console.log(m),m},Y=async()=>{V(),d.value=!1,await as(o.value),await I(),o.value.description="",o.value.title=""},V=()=>{y(),p.value=Ds(a.tasks.length,v.value.length)};return ss(async()=>{await I(),V(),console.log(p,a.tasks.length,v.value.length)}),(m,f)=>(n(),c("div",Gs,[s("button",{onClick:b,class:"button is-success"},"Add new task"),s("div",null,[s("progress",{class:"progress mt-2 mb-2",value:M(p),max:"100"},"15%",8,Ls)]),d.value?h("",!0):(n(),c("div",Qs,[s("button",{onClick:A,class:"button mr-2"},"To do"),s("button",{onClick:R,class:"button mr-2"},"Done"),s("button",{onClick:B,class:"button"},"All")])),d.value?(n(),c("div",Js,[s("form",{onSubmit:f[2]||(f[2]=es((...r)=>m.onSubmit&&m.onSubmit(...r),["prevent"]))},[s("div",Ks,[Ps,C(s("input",{"onUpdate:modelValue":f[0]||(f[0]=r=>o.value.title=r),class:"input is-success",type:"text",placeholder:"Task name"},null,512),[[S,o.value.title]])]),s("div",Ws,[Xs,C(s("textarea",{"onUpdate:modelValue":f[1]||(f[1]=r=>o.value.description=r),class:"input is-success",type:"text",placeholder:"Task"}," ",512),[[S,o.value.description]])]),s("button",{onClick:Y,class:"button is-success",type:"submit"},"Done"),s("button",{onClick:T,class:"button is-danger ml-2",type:"submit"},"Cancel")],32)])):h("",!0),i.value?(n(),c("div",Zs,[(n(!0),c(x,null,E(_.value,r=>(n(),c("div",{class:"column is-3-desktop is-6-tablet is-12-mobile",key:r.id},[k(N,{task:r},null,8,["task"])]))),128))])):t.value?(n(),c("div",se,[(n(!0),c(x,null,E(v.value,r=>(n(),c("div",{class:"column is-3-desktop is-6-tablet is-12-mobile",key:r.id},[k(N,{task:r},null,8,["task"])]))),128))])):(n(),c("div",ee,[(n(!0),c(x,null,E(M(a).tasks,r=>(n(),c("div",{class:"column is-3-desktop is-6-tablet is-12-mobile",key:r.id},[k(N,{task:r},null,8,["task"])]))),128))]))]))}},ae=D(te,[["__scopeId","data-v-66abb6bf"]]),ie={__name:"Home",setup(l){return(e,a)=>(n(),c("div",null,[k(fs),k(ae),k($s)]))}};export{ie as default};
