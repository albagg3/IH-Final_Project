import{o as d,c as r,a as s,t as g,n as N,u as B,b as j,d as F,r as v,e as q,f as p,w as z,g as S,h as f,i as H,l as U,p as E,j as M,k as C,v as D,m as I,q as y,s as R,x as Y,y as G,z as x,A as L,B as Q,F as J,C as K,D as P,E as W}from"./file_index.adae085a.js";import{_ as X}from"./file_Message.3ae2f68c.js";import{_ as w}from"./file__plugin-vue_export-helper.e718e6fb.js";const Z={class:"modal-card"},ss={class:"modal-card-body"},A={__name:"Modalquestion",props:{modal:Object},emits:["yes","no"],setup(n,{emit:e}){const o=n,l=()=>{e("yes")},t=()=>{e("no")};return(i,a)=>(d(),r("div",{class:N(["modal",o.modal.isShow?"is-active":" "])},[s("div",{onClick:t,class:"modal-background"}),s("div",Z,[s("header",{class:"modal-card-head"},[s("button",{onClick:t,class:"delete","aria-label":"close"})]),s("section",ss,g(o.modal.message),1),s("footer",{class:"modal-card-foot"},[s("button",{onClick:l,class:"button is-success"},"yes"),s("button",{onClick:t,class:"button is-danger"},"No")])])],2))}};const es=n=>(E("data-v-594d411b"),n=n(),M(),n),ts={class:"navbar rel section pb-0 pt-0",role:"navigation","aria-label":"main navigation "},as=es(()=>s("div",{class:"navbar-brand"},[s("a",{role:"button",class:"navbar-burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},[s("span",{"aria-hidden":"true"}),s("span",{"aria-hidden":"true"}),s("span",{"aria-hidden":"true"})])],-1)),os={id:"navbarBasicExample",class:"navbar-menu"},ns={class:"navbar-start"},ls={class:"navbar-end"},is={class:"navbar-item"},cs={class:"buttons"},ds={key:0,class:"fa-solid fa-moon"},rs={key:1,class:"fa-solid fa-sun"},us={__name:"Navbar",props:{task:Object},setup(n){const e=B(),o=j(),l=F(),t=v({message:"",type:"",isShow:!1}),i=v(!1),a=v({message:"\xBFQuieres salir de la aplicaci\xF3n?",isShow:!1}),c=()=>{a.value.isShow=!a.value.isShow,console.log(a.value.isShow)},k=async()=>{a.value.isShow=!a.value.isShow,await U()===!1?(t.value.message="Ha habido un error intentelo de nuevo m\xE1s tarde",t.value.type="is-danger",t.value.isShow=!0):(t.value.message="\xA1Hasta pronto!",t.value.type="is-success",t.value.isShow=!0,e.logout(),setTimeout(()=>{l.push({name:"login"})},1e3))},h=()=>{i.value=!i.value,o.isTheme=!o.isTheme,o.loadTheme()};return(b,T)=>{const $=q("router-link");return d(),r("div",null,[s("nav",ts,[as,s("div",os,[s("div",ns,[p($,{to:{name:"home"},class:"navbar-item"},{default:z(()=>[S(" Home ")]),_:1})]),s("div",ls,[s("div",is,[s("div",cs,[s("button",{onClick:h,class:"button"},[i.value?f("",!0):(d(),r("i",ds)),i.value?(d(),r("i",rs)):f("",!0)]),s("button",{onClick:c,class:"button is-danger"},"Log Out")])])])]),p(A,{onYes:k,onNo:c,modal:a.value},null,8,["modal"]),t.value.isShow?(d(),H(X,{key:0,class:"abs",message:t.value.message,type:t.value.type},null,8,["message","type"])):f("",!0)])])}}},_s=w(us,[["__scopeId","data-v-594d411b"]]),ms={},vs={class:"footer"},ps=s("div",{class:"content has-text-centered"},[s("p",null,[s("strong",null,"AskyourTask"),S(" by "),s("a",{href:""},"Alba Garcia Gonzalez"),S(". ")])],-1),ks=[ps];function fs(n,e){return d(),r("footer",vs,ks)}const hs=w(ms,[["render",fs]]);const V=n=>(E("data-v-322b53c0"),n=n(),M(),n),bs={class:"modal is-active"},ys={class:"modal-card"},gs={class:"modal-card-body"},Ts={class:"card-content"},$s=V(()=>s("label",{class:"modal-label",for:""},"Task name",-1)),ws={class:"card-content"},Ss=V(()=>s("label",{class:"modal-label",for:""},"Task description",-1)),Cs={__name:"Modaledit",props:{modal:Object,taskEdited:Object},emits:["done","cancel"],setup(n,{emit:e}){const o=n,l=()=>{e("done")},t=()=>{e("cancel")};return(i,a)=>(d(),r("div",bs,[s("div",{onClick:a[0]||(a[0]=(...c)=>i.onNo&&i.onNo(...c)),class:"modal-background"}),s("div",ys,[s("header",{class:"modal-card-head"},[s("button",{onClick:t,class:"delete","aria-label":"close"})]),s("section",gs,[s("header",Ts,[$s,C(s("input",{"onUpdate:modelValue":a[1]||(a[1]=c=>o.taskEdited.title=c),class:"input is-success"},null,512),[[D,o.taskEdited.title]])]),s("div",ws,[Ss,C(s("textarea",{"onUpdate:modelValue":a[2]||(a[2]=c=>o.taskEdited.description=c),class:"input is-success",type:"text",placeholder:"Task"}," ",512),[[D,o.taskEdited.description]])])]),s("footer",{class:"modal-card-foot"},[s("button",{onClick:l,class:"button is-success"},"Done"),s("button",{onClick:t,class:"button is-danger"},"Cancel")])])]))}},Ds=w(Cs,[["__scopeId","data-v-322b53c0"]]),xs=n=>{const e=Math.floor(n/1e3),o=Math.floor(e/60),l=Math.floor(o/60),t=Math.floor(l/24);return{seconds:e,minutes:o,hours:l,days:t}},Es=n=>{let e=Math.floor(new Date(n)-new Date);e>0&&(e=0);const{seconds:o,minutes:l,hours:t,days:i}=xs(e),a=new Intl.RelativeTimeFormat("en-EN",{numeric:"auto"});return o>-60?a.format(o,"seconds"):l>-60?a.format(l,"minutes"):t>-24?a.format(t,"hours"):a.format(i,"days")};const Ms={class:"card-header"},Ns={class:"card-header-title"},Bs={class:"card-content"},Is={class:"content"},As={datetime:"2016-1-1"},Vs={key:0,class:"card-footer"},Os={key:1,class:"card-footer"},js={key:1},Fs={__name:"Task",props:{task:Object},setup(n){const e=n,o=I(),l=v(!1),t=v(!1),i=v({message:"\xBFEst\xE1s seguro?",isShow:!1}),a=v({title:e.task.title,description:e.task.description,isDone:!1});console.log("valor taskstore",o.tasks);const c=Es(e.task.created_at),k=()=>{i.value.isShow=!i.value.isShow,console.log(i.value.isShow)},h=async()=>{i.value.isShow=!i.value.isShow,o.deleteTask(e.task.id),await R(e.task.id)},b=()=>{l.value=!0},T=async()=>{l.value=!1,a.value.title=e.task.title,a.value.description=e.task.description},$=async()=>{l.value=!1,await Y(e.task.id,a.value),o.updateTask(e.task.id,a.value)},_=async()=>{a.value.isDone=!a.value.isDone,t.value=!t.value,await G(e.task.id,a.value.isDone),o.updateTask(e.task.id,a.value),console.log("valor",e.task.id,a.value)};return(u,m)=>l.value?(d(),r("div",js,[p(Ds,{onDone:$,onCancel:T,modal:i.value,taskEdited:a.value},null,8,["modal","taskEdited"])])):(d(),r("div",{key:0,class:N(["card",e.task.isDone?"is-done":""])},[s("header",Ms,[s("p",Ns," Task: "+g(e.task.title),1)]),s("div",Bs,[s("div",Is,[S(g(e.task.description)+" ",1),s("div",null,[s("time",As,g(y(c)),1)])])]),e.task.isDone?f("",!0):(d(),r("footer",Vs,[s("i",{onClick:_,class:"fa-solid fa-square-check card-footer-item"}),s("i",{onClick:b,class:"fa-regular fa-pen-to-square card-footer-item"}),s("i",{onClick:k,class:"fa-solid fa-trash card-footer-item"})])),e.task.isDone?(d(),r("footer",Os,[s("i",{onClick:_,class:"fa-solid fa-rotate-right card-footer-item"}),s("i",{onClick:k,class:"fa-solid fa-trash card-footer-item"})])):f("",!0),p(A,{onYes:h,onNo:k,modal:i.value},null,8,["modal"])],2))}},qs=w(Fs,[["__scopeId","data-v-c43c3f28"]]);const O=n=>(E("data-v-a2427f4e"),n=n(),M(),n),zs={class:"section wholepage"},Hs=["value"],Us={key:0,class:"mb-2"},Rs={key:1,class:"mb-2"},Ys={class:"p-2"},Gs=O(()=>s("label",{for:""},"Task name",-1)),Ls={class:"p-2"},Qs=O(()=>s("label",{for:""},"Task",-1)),Js={class:"columns is-multiline is-mobile"},Ks={__name:"Addtask",setup(n){const e=B(),o=I(),l=v(!1),t=v({user_id:e.id,title:"",description:""}),i=()=>{l.value=!0},a=()=>{l.value=!1},c=v(2),k=x(()=>{if(c.value===0)return o.tasks.filter(_=>_.isDone===!1);if(c.value===1)return o.tasks.filter(_=>_.isDone===!0);if(c.value===2)return o.tasks}),h=x(()=>o.tasks.length),b=x(()=>o.tasks.filter(u=>u.isDone===!0).length),T=async()=>{const _=await P();return o.setTask(_),console.log(_),_},$=async()=>{l.value=!1,await W(t.value),await T(),t.value.description="",t.value.title=""};return L(async()=>{await T()}),(_,u)=>(d(),r("div",zs,[s("button",{onClick:i,class:"button is-success"},"Add new task"),s("div",null,[s("progress",{class:"progress mt-2 mb-2",value:y(b)/y(h)*100,max:"100"},null,8,Hs)]),s("div",null,g(y(b))+"/"+g(y(h)),1),l.value?f("",!0):(d(),r("div",Us,[s("button",{onClick:u[0]||(u[0]=m=>c.value=0),class:"button mr-2"},"To do"),s("button",{onClick:u[1]||(u[1]=m=>c.value=1),class:"button mr-2"},"Done"),s("button",{onClick:u[2]||(u[2]=m=>c.value=2),class:"button"},"All")])),l.value?(d(),r("div",Rs,[s("form",{onSubmit:u[5]||(u[5]=Q((...m)=>_.onSubmit&&_.onSubmit(...m),["prevent"]))},[s("div",Ys,[Gs,C(s("input",{"onUpdate:modelValue":u[3]||(u[3]=m=>t.value.title=m),class:"input is-success",type:"text",placeholder:"Task name"},null,512),[[D,t.value.title]])]),s("div",Ls,[Qs,C(s("textarea",{"onUpdate:modelValue":u[4]||(u[4]=m=>t.value.description=m),class:"input is-success",type:"text",placeholder:"Task"}," ",512),[[D,t.value.description]])]),s("button",{onClick:$,class:"button is-success",type:"submit"},"Done"),s("button",{onClick:a,class:"button is-danger ml-2",type:"submit"},"Cancel")],32)])):f("",!0),s("div",Js,[(d(!0),r(J,null,K(y(k),m=>(d(),r("div",{class:"column is-3-desktop is-6-tablet is-12-mobile",key:m.id},[p(qs,{task:m},null,8,["task"])]))),128))])]))}},Ps=w(Ks,[["__scopeId","data-v-a2427f4e"]]),se={__name:"Home",setup(n){return(e,o)=>(d(),r("div",null,[p(_s),p(Ps),p(hs)]))}};export{se as default};
